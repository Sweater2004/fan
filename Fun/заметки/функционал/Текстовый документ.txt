добавить поток который будет постоянно проверять была ли нажата кнопка отмены что бы fun остановила работу 
